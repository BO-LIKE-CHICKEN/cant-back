# 안 쓰는 코드

## 요약

말 그대로 굳이 안 쓰는 코드를 추후를 염두하면서까지 놔둘 필요가 없이, 삭제하라는 심플하고 명료한 메시지였어요.

## 예제

현재 회사에서는 대출상담사와 대출 고객을 중개하는 서비스를 운영 중이에요.  
다만, 특이한 점은, 2년 전에 이 서비스를 운영했다가 잠시 중단하고, 다시 재개한다는 점이에요.

이러한 과정에서, 일부 코드들은 삭제하지 않고 그대로 남아 있는 상태였는데, 이는 다음과 같은 문제점을 낳았어요.

- 점차 히스토리를 알고 있는 사람이 적어져요. 따라서 유지보수하는 데 어려움을 느끼기 시작해요.
- 사용하지 않고 유지보수할 필요가 없으니, 점차 코드는 레거시해져요.
- 막상 서비스를 재개할 때에는, 정책 등이 대거 변경되어 더이상 사용할 필요가 없었어요.

따라서 이참에 한 번 팀원들에게 양해를 구하고 과감히 레거시 서비스의 전역 상태를 지우기로 했어요.

<img
  width="414"
  alt="스크린샷 2024-09-12 오전 12 01 32"
  src="https://github.com/user-attachments/assets/773ae620-7539-4790-88c2-b46a400395f5"
/>

팀원들도 원래 바랐던 거였고, 결국 삭제에 필요한 건 단지 용기였을 뿐이었어요.

이로 인해, 다음과 같은 효과를 얻었어요.

- 현재 전역상태는 라이브러리 교체를 앞두고 있는데요. 미리 제거를 진행했으니, 불필요한 작업을 덜었어요.
- 전역 상태 관리 내부에서는 useEffect 내부에서 api를 fetch하고 있었는데, 불필요한 호출을 줄였어요.
- 팀원들에게 서로 리팩토링에 대한 필요성을 느끼게 하고, 두려움을 덜어줄 용기를 주었어요 🥰

## 마치며

너무나 당연하지만, 안 쓰는 코드를 잘 하는 사람을 많이 보지도 못한 것 같아요.  
따라서, 저는 개인 프로젝트를 할 때에는 라이브러리에 의존하고 있는데요.

아마 저와 일을 같이 하셨던 분들은 아시겠지만, `knip`이라는 라이브러리를 쓰면 좀 더 간편하게 문제를 해결할 수 있어요 🙇🏻‍♂️

```bash
# 다음을 실행해주세요.
npx knip
```
