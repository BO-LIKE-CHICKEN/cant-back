# 설명하는 상수

## 요약

- 특정 상수 값들은 간혹 의미를 알기가 어려워요. 이럴 때에는 상수 역시 별도의 변수와 값을 할당해주세요.
- 맥락적 의미에서 같을 때에만 재사용하는 것에 유의해주세요. 만약 맥락적 유사도가 약하다면 오히려 사이드 이펙트의 위험이 존재해요.
- 이렇게 동일한 맥락적 의미에서 사용된 상수는 함께 모아주고, 아니라면 서로 분리해주세요.

```ts filename="설명하는_상수_예시.ts"
/**
 * [ 컨텍스트 설명 ]
 *
 * A씨는 현재 페이지네이션 작업을 하고 있어요.
 * 이때, 다음과 같은 요구사항이 들어왔어요.
 *
 * - 초기화될 때, 페이지는 1페이지, 페이지당 호출 갯수는 20개로 해주세요.
 *
 * 고민하던 A씨는 결국 잠시 고민하다, 해당 페이지 관련 각각의 상수를 변수에 할당하고, 함께 놓았어요.
 * 해당 상수의 의미는 설명해주고, 다른 페이지에서는 추후 재사용할 때 유의하도록 하기 위함이에요.
 */

const InitialFeedListPageIndex = 1;
const InitialFeedListPageLimit = 10;

const FeedPage = () => {
  const [index, setIndex] = useState(InitialFeedListPageIndex);
  const [limit, setLimit] = useState(InitialFeedListPageLimit);

  const reset = () => {
    setIndex(InitialFeedListPageIndex);
    setLimit(InitialFeedListPageLimit);

    router.replace(
      `/feed?index=${InitialFeedListPageIndex}&limit=${InitialFeedListPageLimit}`
    );
  };

  // ...
};
```

## 사유

결국 표현식의 문제점을 찾아냈다면, 그 이후에는 이를 변수로 메모이제이션하여 이 값의 의미를 설명하라는 의미였어요.

만약 이 챕터까지 읽었다면, 이전 챕터의 글은 다음과 같이 변경되지 않았을까요?

> 저희는 이러한 사람들을 찾아요!
>
> `const TOTAL_ITEMS = 16`이 아닌 `const TOTAL_ITEMS = BOX_LIMIT * PALLETE_LIMIT * TRUCK_LIMIT * TRUCK_COUNT`라고 말할 수 있는 사람

내가 설명하고자 하는 표현식이 그 자체로 설명력을 갖고 있는지 판별하고, 이를 설명하는 변수와 상수로 디테일하게 풀이하는 것.

결국 이것이 가장 중요하다는 내용으로 받아들였어요.

### 고민 - 디렉토리 구조

한편, 가장 고민되는 지점 중 하나가 다음과 같은 내용이었어요.

> 한 번에 바뀌어야 하거나 함께 이해해야 하는 상수들을 한 곳에 모아두고, 다른 이유로 묶인 변수들을 분리하는 후속 작업을 해야죠.

`모아두고 분리한다`는 것은 어떻게 모아두는 것을 의미할까요?

이전에는 항상 디렉토리를 통해 분리하는 것이 정답이라 생각했는데, 최근에 팀원들의 의견을 수용하여 도메인 구분 없이 모달의 전체 키를 한 번에 관리하기로 했거든요.

현재 저희는 디렉토리 구조를 포기하고, 일단 `prefix`를 통해 구분하기는 합니다.

다만, 이렇게 예외를 계속해서 만들어나간다면, 일관적이지 않은 개발 방식이 확립되는 것 같아 고민이 되기도 하네요 🥹

물론 도메인 별로 모아두고 분리하는 것은 지당하다고 생각하지만, 결국 항상 `어떻게 관리하는 것이 좋은가?`로 귀납되는 경향이 있는 것 같아 요새는 고민입니다.
